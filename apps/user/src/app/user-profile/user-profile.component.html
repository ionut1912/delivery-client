<delivery-client-navbar></delivery-client-navbar>
<div class="container">
  <h2>User profile</h2>
</div>
<div class="container">
  <h2>Edit your personal details</h2>
</div>
<div class="container">
  <img class="user-image" src="{{ user.image }}" alt="No image" />
  <mat-icon>edit</mat-icon>
</div>
<div class="container">
  <form [formGroup]="userDetails" novalidate autocomplete="off">
    <div class="container">
      <mat-form-field appearance="outline">
        <mat-label>Phone</mat-label>
        <input
          matInput
          [ngModel]="user.phoneNumber"
          formControlName="phone"
          [readonly]="disabledFields[0].disabled"
        />
        <mat-error *ngIf="checkError('phone', 'minlength')">
          {{ error('phone', 'has min length of 3 characters') }}
        </mat-error>
        <mat-error *ngIf="checkError('phone', 'maxlength')">
          {{ error('phone', 'has max length of 10 characters') }}
        </mat-error>
      </mat-form-field>

      <mat-icon color="primary" (click)="makeInputEditable(0)">edit</mat-icon>
    </div>
    <div class="container">
      <mat-form-field appearance="outline">
        <mat-label>Street</mat-label>
        <input
          matInput
          [ngModel]="user.address.street"
          formControlName="street"
          [readonly]="disabledFields[1].disabled"
        />
      </mat-form-field>

      <mat-icon color="primary" (click)="makeInputEditable(1)">edit</mat-icon>
    </div>
    <div class="container">
      <mat-form-field appearance="outline">
        <mat-label>Number</mat-label>
        <input
          matInput
          [ngModel]="user.address.number"
          formControlName="number"
          [readonly]="disabledFields[2].disabled"
        />
      </mat-form-field>
      <mat-icon color="primary" (click)="makeInputEditable(2)">edit</mat-icon>
    </div>
    <div class="container">
      <mat-form-field appearance="outline">
        <mat-label>City</mat-label>
        <input
          matInput
          [ngModel]="user.address.city"
          formControlName="city"
          [readonly]="disabledFields[3].disabled"
        />
        <mat-error *ngIf="checkError('city', 'minlength')">
          {{ error('city', 'has min length of 3 characters') }}
        </mat-error>
        <mat-error *ngIf="checkError('city', 'maxlength')">
          {{ error('city', 'has max length of 20 characters') }}
        </mat-error>
      </mat-form-field>
      <mat-icon color="primary" (click)="makeInputEditable(3)">edit</mat-icon>
    </div>
    <div class="container">
      <mat-form-field appearance="outline">
        <mat-label>Postal Code</mat-label>
        <input
          matInput
          [ngModel]="user.address.postalCode"
          formControlName="postalCode"
          [readonly]="disabledFields[4].disabled"
        />
        <mat-error *ngIf="checkError('postalCode', 'minlength')">
          {{ error('Postal code', 'has min length of 3 characters') }}
        </mat-error>
        <mat-error *ngIf="checkError('postalCode', 'maxlength')">
          {{ error('postal code', 'has max length of 20 characters') }}
        </mat-error>
      </mat-form-field>

      <mat-icon color="primary" (click)="makeInputEditable(4)">edit</mat-icon>
    </div>
    <div class="container">
      <mat-form-field appearance="outline">
        <mat-label>Email</mat-label>
        <input
          matInput
          [ngModel]="user.email"
          formControlName="email"
          [readonly]="disabledFields[5].disabled"
        />
        <mat-error *ngIf="checkError('email', 'email')">
          {{ error('email', 'must contains @') }}
        </mat-error>
      </mat-form-field>
      <mat-icon color="primary" (click)="makeInputEditable(5)">edit</mat-icon>
    </div>
    <div class="container">
      <mat-form-field appearance="outline">
        <mat-label>Username</mat-label>
        <input
          matInput
          [ngModel]="user.username"
          formControlName="username"
          [readonly]="disabledFields[6].disabled"
        />
        <mat-error *ngIf="checkError('username', 'minlength')">
          {{ error('username', 'has min length of 3 characters') }}
        </mat-error>
        <mat-error *ngIf="checkError('username', 'maxlength')">
          {{ error('username', 'has max length of 20 characters') }}
        </mat-error>
      </mat-form-field>
      <mat-icon color="primary" (click)="makeInputEditable(6)"> edit</mat-icon>
    </div>
  </form>
</div>
